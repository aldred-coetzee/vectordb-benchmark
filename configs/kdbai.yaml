# KDB.AI Configuration
database:
  name: kdbai
  version: "1.8.2"
  endpoint: http://localhost:8082

container:
  image: portal.dl.kx.com/kdbai-db
  cpus: 16
  memory: 64g
  ports:
    - "8082:8082"
    - "8081:8081"
  env:
    KDB_LICENSE_B64: "${KDB_LICENSE_B64}"
    THREADS: "16"
    VDB_DIR: "/tmp/kx/data/vdb"
  volumes:
    - ./data/kdbai:/tmp/kx/data
  setup:
    directories:
      - path: ./data/kdbai
        mode: "0777"

# Health check configuration
health_check:
  url: http://localhost:8081/api/v2/ready
  timeout: 60
  interval: 2

# Metadata for reports
metadata:
  full_name: "KDB.AI"
  architecture: client-server
  protocol: QIPC
  persistence: disk
  license: Commercial
  url: https://kdb.ai
  notes: "qIPC protocol. Uses qFlat/qHnsw (disk-backed mmap) not flat/hnsw (in-memory) â€” 2x faster search and 10x lower CPU usage (155% vs 1478%). THREADS env var must match CPU cores. Requires commercial license."

# KDB.AI specific parameters
params:
  timeout: 30
